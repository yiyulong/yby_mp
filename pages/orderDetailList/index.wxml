<!--pages/orderDetailList/index.wxml-->
<wxs src="./stateClass.wxs" module="state"></wxs>
<!-- showType.orderType === 'returnOrder' -->
<block wx:if="{{false}}">
  <view class="editAddress van-hairline--top-bottom">
    <van-cell
      border="{{false}}"
      clickable
      title="编辑物流编号"
      url="/pages/logistics/index"
    >
      <van-icon slot="right-icon" name="edit" class="custom-icon" />
    </van-cell>
  </view>
</block>
<!-- <block wx:else>
  <view class='row'>
    <view>
      <van-icon name="manager" /><text style="margin-right: 20rpx;">{{orderConfig.address.consignee}}</text>
      <van-icon name="phone" /><text>{{orderConfig.address.phone}}</text>
    </view>
    <view>
      <van-icon name="location" /><text>{{orderConfig.address.fullAddress}}</text>
    </view>
  </view>
</block> -->
 <!-- {{showType.orderType === 'returnOrder' ? 'marginTop' : ''}} -->

<view class="order-info">
  <view class="order_line_1">
    <text class="orderNumber">{{ orderNumber }}</text>
    <text style="color: {{state.color(orderStatusEn)}}">{{orderStatusCh}}</text>
  </view>
  <view class="order_line_2">
    <text class="totalQty">总订量：{{ totalQty  }}</text>
    <text class="totalAmount">总金额：{{ totalAmount }}</text>
  </view>
  <van-collapse value="{{ activeNames }}" bind:change="onChange">
    <van-collapse-item custom-class="custom-collapse" content-class="content-collapse" title="更多收货信息" name="1">
      <view class="address-box">
        <view class="address_line_1">
          <van-tag plain type="primary">{{ expressWay  }}</van-tag>
          <text class="orderStatus">{{ orderStatus  }}</text>
        </view>
        <view class="address_line_2">
          <van-icon name="user-o" />
          <text>{{ address.consignee  }}</text>
        </view>
        <view class="address_line_3">
          <van-icon name="phone-o" />
          <text>{{ address.phone  }}</text>
        </view>
        <view class="address_line_4">
          <van-icon name="logistics" />
          <text>{{ address.fullAddress }}</text>
        </view>
      </view>
    </van-collapse-item>
  </van-collapse>
</view>

<view class="order-content">
  <block wx:for="{{ordersData}}" wx:for-index="idx" wx:for-item="order" wx:key="idex">
    <prod-list-cell
      class="prod-list-cell-component"
      can-del="{{ orderConfig.orderStatusEn === 'REJECTED' || orderConfig.orderStatusEn === 'NEW' }}"
      orderId="{{orderID}}"
      shopData="{{order}}"
      showType="{{showType}}"
      orderStatus="{{orderConfig.orderStatusEn}}"
      bind:del="deletePdt"
    ></prod-list-cell>
  </block>
</view>

<view class="action-content" wx:if="{{ orderConfig.orderStatusEn === 'REJECTED' || orderConfig.orderStatusEn === 'NEW' }}">
  <van-button
    type="danger"
    round
    loading="{{ deleteLoading }}"
    loading-type="circular"
    loading-text="删除中"
    custom-class="action-btn lt"
    size="normal"
    bind:click="deleteOrder"
  >删除订单</van-button>
  <van-button
    type="primary"
    round
    loading="{{ submitLoading}}"
    loading-type="circular"
    custom-class="action-btn rg"
    size="normal"
    bind:click="submitOrder"
  >提交订单</van-button>
</view>

<van-dialog id="van-dialog" />

<!-- <view class='contents'>

  <view class='showMsg'>
    <view class='row'>
      <text>订单编号: {{orderConfig.orderNumber}}</text>
    </view>
    <view class='row'>
      <text>总订量: {{orderConfig.totalQty}}</text>
    </view>
    <view class='row'>
      <text>总金额: {{orderConfig.totalAmount}}</text>
    </view>

    <view class='row' wx:if="{{orderType != '04'}}">
      <view>
        <text style="margin-right: 20rpx;">收件人: {{orderConfig.address.consignee}}</text>
        <text>手机号: {{orderConfig.address.phone}}</text>
      </view>
      <text>收货地址: {{orderConfig.address.fullAddress}}</text>
    </view>

  </view>
  <block wx:for="{{ordersData}}" wx:for-index="idx" wx:for-item="order" wx:key="{{idx}}">
    <prod-list-cell orderId="{{orderID}}" shopData="{{order}}" showType="{{showType}}"></prod-list-cell>
  </block>
</view> -->